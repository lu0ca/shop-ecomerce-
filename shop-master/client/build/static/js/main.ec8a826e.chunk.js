(this.webpackJsonpgetbestshop=this.webpackJsonpgetbestshop||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},74:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c(14),n=c.n(a),s=(c(51),c(52),c(31),c(15)),o=c(8),i=c(3),l=c(9),d=c.n(l),j=(c(74),c(0));var u=function(){var e=Object(i.c)((function(e){return e.cartReducer})).cartItems,t=JSON.parse(localStorage.getItem("currentUser")),c=Object(i.b)();return Object(j.jsx)("div",{children:Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg ",children:[Object(j.jsx)("a",{className:"navbar-brand",href:"/",children:Object(j.jsx)("img",{src:"/logo2.gif",alt:"logo",className:"logo"})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsxs)("span",{className:"navbar-toggler-icon",children:[" ",Object(j.jsx)("i",{class:"fas fa-bars",style:{color:"white"}})," "]})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(j.jsxs)("div",{className:"navbar-nav ml-auto",children:[t?Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsx)("button",{className:"bd btn-secondary dropdown-toggle mt-2 md-2",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t.username}),Object(j.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(j.jsx)("a",{className:"dropdown-item",href:"/orders",children:"Orders"}),Object(j.jsx)("li",{className:"dropdown-item",onClick:function(){c((function(e){localStorage.removeItem("currentUser"),localStorage.removeItem("cartItems"),e({type:"USER_LOGOUT"}),window.location.href="/login"}))},children:"Logout"})]})]}):Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link",href:"/cart",children:[Object(j.jsx)("i",{class:"fas fa-shopping-cart"})," ",e.length]})})]})})]})})},b=c(20),O=c.n(b);var h=function(e){var t=e.product;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:Object(j.jsxs)(s.b,{to:"product/".concat(t._id),children:[Object(j.jsx)("img",{src:t.imgurl,className:"img-fluid"}),Object(j.jsx)("h1",{children:t.name}),Object(j.jsx)(O.a,{count:t.rating,size:28,color:"#ffd700",char:"\u2606",isHalf:!0,activeColor:"#ffd700",readonly:!0}),Object(j.jsxs)("h1",{children:["Price: ",t.price," ",t.unit]})]})})})},m=(c(79),function(){return function(e){e({type:"GET_PRODUCTS_REQUEST"}),d.a.get("/api/products/allproducts").then((function(t){console.log(t),e({type:"GET_PRODUCTS_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e({type:"GET_PRODUCTS_FAILED",payload:t})}))}}),p=function(e){return function(t){t({type:"GET_PRODUCTBYID_REQUEST"}),d.a.post("/api/products/getproductbyid",{productid:e}).then((function(e){console.log(e),t({type:"GET_PRODUCTBYID_SUCCESS",payload:e.data})})).catch((function(e){console.log(e),t({type:"GET_PRODUCTBY_FAILED",payload:e})}))}};var x=function(){return Object(j.jsx)("div",{className:"mt-5",children:Object(j.jsx)("div",{className:"spinner-border text-dark mt-5",role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})};var f=function(e){var t=e.error;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})})},g=c(4);c(80);var E=function(){var e=Object(r.useState)(""),t=Object(g.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)("all"),s=Object(g.a)(n,2),o=s[0],l=s[1],u=Object(i.b)();return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"row justify-content-center ",children:[Object(j.jsx)("div",{className:"col-m-2 ",children:Object(j.jsx)("input",{value:c,onChange:function(e){a(e.target.value)},type:"text",placeholder:"Search",className:"sr form-control"})}),Object(j.jsx)("div",{className:"ca col-m-2 ",children:Object(j.jsxs)("select",{className:"form-control",value:o,onChange:function(e){l(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"All"}),Object(j.jsx)("option",{value:"mobiles",children:"Mobiles"}),Object(j.jsx)("option",{value:"laptops",children:"Laptops"}),Object(j.jsx)("option",{value:"accessories",children:"Accessories"}),Object(j.jsx)("option",{value:"fashion",children:"Fashion"}),Object(j.jsx)("option",{value:"games",children:"Games"})]})}),Object(j.jsx)("div",{className:"col-m-2 ml-5",children:Object(j.jsx)("button",{className:"but btn-dark",onClick:function(){u(function(e,t){return function(c){var r;c({type:"GET_PRODUCTS_REQUEST"}),d.a.get("/api/products/allproducts").then((function(a){r=a.data,e&&(r=a.data.filter((function(t){return t.name.toLowerCase().includes(e)}))),"all"!==t&&(r=a.data.filter((function(e){return e.category.toLowerCase().includes(t)}))),c({type:"GET_PRODUCTS_SUCCESS",payload:r})})).catch((function(e){c({type:"GET_PRODUCTS_FAILED"})}))}}(c,o))},children:"FILTER"})})]})})};var v=function(){var e=Object(i.c)((function(e){return e.getAllProductsReducer})),t=e.loading,c=e.products,a=e.error,n=Object(i.b)();return Object(r.useEffect)((function(){n(m())}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(E,{}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"row",children:t?Object(j.jsx)(x,{}):a?Object(j.jsx)(f,{error:"Something wrong!"}):c.map((function(e){return Object(j.jsx)("div",{className:"zoomoutcard col-md-3 mt-5 m-2 card p-2 shadow p-3 mb-5 bg-white rounded",children:Object(j.jsx)(h,{product:e})})}))})]})},S=c(17),R=function(e,t){return function(c,r){c({type:"ADD_TO_CART",payload:{name:e.name,_id:e._id,price:e.price,unit:e.unit,countInStock:e.countInStock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cartReducer.cartItems))}},_=c(16);c(87);var y=function(e){var t=e.product,c=Object(_.useToasts)().addToast,a=Object(i.b)(),n=Object(r.useState)(5),s=Object(g.a)(n,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(g.a)(u,2),h=b[0],m=b[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{className:"titlerev",children:"Give Your Review"}),Object(j.jsx)(O.a,{count:5,size:28,color:"black",char:"\u2606",isHalf:!0,activeColor:"#ffd700",onChange:function(e){l(e)}}),Object(j.jsx)("input",{type:"text",className:"form-control mt-2",value:h,onChange:function(e){m(e.target.value)}}),Object(j.jsxs)("button",{className:"btn mt-3 ml-1",onClick:function(){if(localStorage.getItem("currentUser")){for(var e,r=JSON.parse(localStorage.getItem("currentUser")),n=0;n<t.reviews.length;n++)t.reviews[n].userid==r._id&&(e=!0);if(e)alert("You have already reviewed this product!");else a(function(e,t){return function(c,r){c({type:"ADD_PRODUCT_REVIEW_REQUEST"});var a=r().loginReducer.currentUser;d.a.post("/api/products/addreview",{review:e,productid:t,currentUser:a}).then((function(e){console.log(e),c({type:"ADD_PRODUCT_REVIEW_SUCCESS"}),window.location.reload()})).catch((function(e){c({type:"ADD_PRODUCT_REVIEW_FAILED"})}))}}({rating:o,comment:h},t._id)),c("You Review was added successfully",{appearance:"success"})}else window.location.href="/login"},children:[" ","Submit Review"," "]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h5",{className:"titlerev",children:"Lastest Reviews"}),t.reviews&&t.reviews.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(O.a,{count:e.rating,size:28,color:"#ffd700",char:"\u2606",isHalf:!0,activeColor:"#ffd700",readonly:!0}),Object(j.jsx)("p",{children:e.comment}),Object(j.jsxs)("p",{children:["By : ",e.name," "]}),Object(j.jsx)("hr",{})]})}))]})};c(88);var D=function(e){var t=e.match,c=Object(_.useToasts)().addToast,a=t.params.id,n=Object(i.b)(),s=Object(r.useState)(1),o=Object(g.a)(s,2),l=o[0],d=o[1],u=Object(i.c)((function(e){return e.getProductByIdReducer})),b=u.product,O=u.loading,h=u.error;return Object(r.useEffect)((function(){n(p(a))}),[]),Object(j.jsx)("div",{children:O?Object(j.jsx)(x,{}):h?Object(j.jsx)(f,{error:"Something wrong!"}):Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"card m-2 shadow p-3 mb-5 bg-white rounded",children:[Object(j.jsx)("h1",{children:b.name}),Object(j.jsx)("img",{src:b.imgurl}),Object(j.jsx)("p",{children:b.description})]})}),Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsxs)("div",{className:"m-2",children:[Object(j.jsxs)("h1",{children:["Price : ",b.price," ",b.unit," "]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h1",{children:["Select Quantity :"," ",Object(j.jsxs)("select",{value:l,onChange:function(e){d(e.target.value)},children:[" ",Object(S.a)(Array(b.countInStock).keys()).map((function(e,t){return Object(j.jsx)("option",{value:t+1,children:t+1})}))]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("button",{className:"btn",onClick:function(){n(R(b,l)),c("You product was added successfully",{appearance:"success"})},children:"ADD TO CART"})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(y,{product:b})]})]})})},U=c(43),T=c.n(U);var C=function(e){var t=e.success;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:t})})};var N=function(e){var t=e.amount,c=Object(i.b)(),r=Object(i.c)((function(e){return e.placeOrderReducer})),a=r.loading,n=r.success,s=r.error;return Object(j.jsxs)("div",{children:[a&&Object(j.jsx)(x,{}),n&&Object(j.jsx)(C,{success:"Your Order Placed Successfully"}),s&&Object(j.jsx)(f,{error:"Something wrong!"}),Object(j.jsx)(T.a,{token:function(e){console.log(e),c(function(e,t){return function(c,r){for(var a=r().loginReducer.currentUser,n=r().cartReducer.cartItems,s=new Array,o=0;o<n.length;o++){var i={name:n[o].name,quantity:n[o].quantity,price:n[o].price,_id:n[o]._id};s.push(i)}c({type:"PLACE_ORDER_REQUEST"}),d.a.post("/api/orders/placeorder",{token:e,subtotal:t,currentUser:a,cartItems:s}).then((function(e){c({type:"PLACE_ORDER_SUCCESS"}),console.log(e)})).catch((function(e){c({type:"PLACE_ORDER_FAILED"})}))}}(e,t))},amount:100*t,shippingAddress:!0,billingAddress:!0,currency:"TTD",stripeKey:"pk_test_51JLnihDp6xifSmVcHA3bEOOl1a8WyjlsH6oS8v0kStNRIdFtqIvOHvDWVwSnZEIi5prBlekCfIUQySdm4ozAdaX400SXsrEzcW",children:Object(j.jsx)("div",{className:"bt",children:Object(j.jsx)("button",{className:"btn",onClick:function(){localStorage.getItem("currentUser")||(window.location.href="/login")},children:"PAY NOW"})})})]})};c(89);var w=function(){var e=Object(i.c)((function(e){return e.cartReducer})),t=Object(i.b)(),c=e.cartItems,r=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-md-8  text-center mt-5",children:[Object(j.jsx)("h2",{className:"title",children:"MY CART"}),Object(j.jsx)("br",{}),Object(j.jsxs)("table",{className:"table table-bordered",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Product Name"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Quantity"}),Object(j.jsx)("th",{className:"total",children:"Total Price"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{className:"unit",children:[" ",e.price," ",e.unit," "]}),Object(j.jsx)("td",{children:Object(j.jsx)("select",{value:e.quantity,onChange:function(c){t(R(e,c.target.value))},children:Object(S.a)(Array(e.countInStock).keys()).map((function(e,t){return Object(j.jsxs)("option",{value:t+1,children:[" ",t+1," "]})}))})}),Object(j.jsxs)("td",{children:[e.quantity*e.price," ",e.unit," "]}),Object(j.jsx)("td",{className:"delete",children:Object(j.jsx)("i",{class:"far fa-trash-alt ",onClick:function(){t(function(e){return function(t,c){t({type:"DELETE_FROM_CART",payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cartReducer.cartItems))}}(e))}})})]})}))})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h2",{className:"text-center",children:["SubTotal : ",r," TND "]}),Object(j.jsx)("hr",{}),Object(j.jsx)(N,{amount:r}),Object(j.jsx)("hr",{})]})})})};c(90);var I=function(){var e=Object(i.c)((function(e){return e.registerNewUserReducer})),t=e.loading,c=e.error,a=e.success,n=Object(r.useState)(""),s=Object(g.a)(n,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(g.a)(u,2),O=b[0],h=b[1],m=Object(r.useState)(""),p=Object(g.a)(m,2),E=p[0],v=p[1],S=Object(r.useState)(""),R=Object(g.a)(S,2),_=R[0],y=R[1],D=Object(i.b)();return Object(j.jsx)("div",{className:"frm",children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"zoomoutcard col-md-5 card p-5 shadow p-3 mb-5 bg-white rounded",children:Object(j.jsxs)("div",{className:"div",children:[Object(j.jsx)("h4",{className:"text-center",children:"REGISTER"}),t&&Object(j.jsx)(x,{}),c&&Object(j.jsx)(f,{error:"Email Already Exist!"}),a&&Object(j.jsx)(C,{success:"You are successfully Registred!"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E==_?D(function(e){return function(t){t({type:"USER_REGISTER_REQUEST"}),d.a.post("/api/users/register",e).then((function(e){t({type:"USER_REGISTER_SUCCESS"}),window.location.href="/login",console.log(e)})).catch((function(e){t({type:"USER_REGISTER_FAILED"}),console.log(e)}))}}({username:o,email:O,password:E})):alert("Please confirm your Password!")},children:[Object(j.jsx)("input",{type:"text",placeholder:"Username...",className:"form-control",required:!0,value:o,onChange:function(e){l(e.target.value)}}),Object(j.jsx)("input",{type:"email",placeholder:"Email...",className:"form-control",required:!0,value:O,onChange:function(e){h(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Password...",className:"form-control",required:!0,value:E,onChange:function(e){v(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Confirm Password...",className:"form-control",required:!0,value:_,onChange:function(e){y(e.target.value)}}),Object(j.jsx)("div",{className:"bt mt-2",children:Object(j.jsx)("button",{type:"submit",className:"btn",children:"REGISTER NOW"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"/login",children:Object(j.jsx)("h5",{children:"Registred? Click here to Login!"})})]})})})})};c(91);var A=function(){var e=Object(i.c)((function(e){return e.loginReducer})),t=e.loading,c=e.error,a=Object(r.useState)(""),n=Object(g.a)(a,2),s=n[0],o=n[1],l=Object(r.useState)(""),u=Object(g.a)(l,2),b=u[0],O=u[1],h=Object(i.b)();return Object(r.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]),Object(j.jsx)("div",{className:"frm",children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"zoomoutcard col-md-4 card p-5 shadow p-3 mb-5 bg-white rounded",children:Object(j.jsxs)("div",{className:"div",children:[Object(j.jsx)("h4",{className:"text-center ",children:"LOGIN"}),c&&Object(j.jsx)(f,{error:"Invalid Login Informations!"}),t&&Object(j.jsx)(x,{}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(function(e){return function(t){t({type:"USER_LOGIN_REQUEST"}),d.a.post("/api/users/login",e).then((function(c){t({type:"USER_LOGIN_SUCCESS"}),localStorage.setItem("currentUser",JSON.stringify(c.data)),window.location.href="/","hamzaadmin@gmail.com"==e.email&&(window.location.href="/admin")})).catch((function(e){t({type:"USER_LOGIN_FAILED",payload:e}),console.log(e)}))}}({email:s,password:b}))},children:[Object(j.jsx)("input",{type:"email",placeholder:"Email...",className:"form-control",required:!0,value:s,onChange:function(e){o(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Password...",className:"form-control",required:!0,value:b,onChange:function(e){O(e.target.value)}}),Object(j.jsx)("div",{className:"bt mt-2",children:Object(j.jsx)("button",{type:"submit",className:"btn",children:"Login"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:"/register",children:Object(j.jsx)("h5",{children:"No account? Create one"})})})]})})})})};c(92);var L=function(){var e=Object(i.c)((function(e){return e.getOrdersByUserIdReducer})),t=e.orders,c=e.error,a=e.loading,n=Object(i.b)();return Object(r.useEffect)((function(){localStorage.getItem("currentUser")?n((function(e,t){var c=t().loginReducer.currentUser._id;e({type:"GET_ORDERSBYUSERID_REQUEST"}),d.a.post("/api/orders/getordersbyuserid",{userid:c}).then((function(t){e({type:"GET_ORDERSBYUSERID_SUCCESS",payload:t.data}),console.log(t.data)})).catch((function(t){e({type:"GET_ORDERSBYUSERID_FAILED",payload:t})}))})):window.location.href="/login"}),[]),Object(j.jsx)("div",{className:"listor",children:Object(j.jsx)("div",{className:"row justify-content-left mt-5",children:Object(j.jsxs)("div",{className:"col-md-8",children:[Object(j.jsx)("h2",{children:"MY ORDERS"}),Object(j.jsx)("br",{}),Object(j.jsxs)("table",{className:"table table-striped ",children:[Object(j.jsx)("thead",{className:"thead-dark",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Order ID"}),Object(j.jsx)("th",{children:"Amount"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Transaction ID"}),Object(j.jsx)("th",{children:"Status"})]})}),Object(j.jsxs)("tbody",{children:[a&&Object(j.jsx)(x,{}),t&&t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsxs)("td",{children:[e.orderAmount," TND"]}),Object(j.jsx)("td",{children:e.createdAt}),Object(j.jsx)("td",{children:e.transactionId}),Object(j.jsx)("td",{children:e.isDelivered?Object(j.jsx)("li",{children:" Delivered "}):Object(j.jsx)("li",{children:" Order Placed "})})]})})),c&&Object(j.jsx)(f,{error:"Something wrong!"})]})]})]})})})};c(93);var P=function(){var e=Object(i.c)((function(e){return e.getAllUsersReducer})),t=e.users,c=e.loading,a=e.error,n=Object(i.b)();return Object(r.useEffect)((function(){n((function(e){e({type:"GET_ALLUSERS_REQUEST"}),d.a.get("/api/users/getallusers").then((function(t){e({type:"GET_ALLUSERS_SUCCESS",payload:t.data})})).catch((function(t){e({type:"GET_ALLUSERS_FAILED",payload:t})}))}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"usertitle",children:"Users List"}),Object(j.jsxs)("table",{className:"tbadmin table table-bodered ",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Users ID"}),Object(j.jsx)("th",{children:"Users Name"}),Object(j.jsx)("th",{children:"Users E-mail"}),Object(j.jsx)("th",{children:"Delete Users"})]})}),Object(j.jsxs)("tbody",{children:[c&&Object(j.jsx)(x,{}),a&&Object(j.jsx)(f,{error:"Something wrong!"}),t&&t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.username}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{className:"delete",children:Object(j.jsx)("i",{class:"far fa-trash-alt ",onClick:function(){var t;n((t=e._id,function(e){e({type:"DELETE_USER_REQUEST"}),d.a.post("/api/users/deleteuser",{userid:t}).then((function(t){e({type:"DELETE_USER_SUCCESS",payload:t.data}),alert("User Deleted Successfully"),window.location.reload()})).catch((function(t){e({type:"DELETE_USER_FAILED",payload:t})}))}))}})})]})}))]})]})]})};var k=function(){var e=Object(i.c)((function(e){return e.getAllProductsReducer})),t=e.products,c=e.loading,a=e.error,n=Object(i.b)();return Object(r.useEffect)((function(){n(m())}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"usertitle",children:"Products List"}),Object(j.jsxs)("table",{className:"tbadmin table table-bodered ",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Products Name"}),Object(j.jsx)("th",{children:"Prices"}),Object(j.jsx)("th",{children:"Stock"}),Object(j.jsx)("th",{children:"Products ID"}),Object(j.jsx)("th",{children:"Actions"})]})}),Object(j.jsxs)("tbody",{children:[c&&Object(j.jsx)(x,{}),a&&Object(j.jsx)(f,{error:"Something wrong!"}),t&&t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{children:[e.price," TND"]}),Object(j.jsx)("td",{children:e.countInStock}),Object(j.jsx)("td",{children:e._id}),Object(j.jsxs)("td",{children:[Object(j.jsx)("i",{className:"delete far fa-trash-alt mr-3 ",onClick:function(){var t;n((t=e._id,function(e){e({type:"DELETE_PRODUCT_REQUEST"}),d.a.post("/api/products/deleteproduct",{productid:t}).then((function(t){e({type:"DELETE_PRODUCT_SUCCESS",payload:t.data}),alert("Product Deleted Successfully"),window.location.reload()})).catch((function(t){e({type:"DELETE_PRODUCT_FAILED",payload:t})}))}))}})," ",Object(j.jsx)(s.b,{to:"/admin/editproduct/".concat(e._id),children:Object(j.jsx)("i",{className:"fas fa-edit"})})]})]})}))]})]})]})};var G=function(){var e=Object(r.useState)(""),t=Object(g.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(),s=Object(g.a)(n,2),o=s[0],l=s[1],u=Object(r.useState)(),b=Object(g.a)(u,2),O=b[0],h=b[1],m=Object(r.useState)(""),p=Object(g.a)(m,2),E=p[0],v=p[1],S=Object(r.useState)(""),R=Object(g.a)(S,2),_=R[0],y=R[1],D=Object(r.useState)(""),U=Object(g.a)(D,2),T=U[0],N=U[1],w=Object(r.useState)(""),I=Object(g.a)(w,2),A=I[0],L=I[1],P=Object(r.useState)(),k=Object(g.a)(P,2),G=k[0],F=k[1],Q=Object(i.b)(),q=Object(i.c)((function(e){return e.addProductReducer})),B=q.success,Y=q.loading,z=q.error;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-md-8",children:[B&&Object(j.jsx)(C,{success:"Product Added Successfully"}),Y&&Object(j.jsx)(x,{}),z&&Object(j.jsx)(f,{error:"Something wrong!"}),Object(j.jsx)("h2",{children:"Add New Products"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Q(function(e){return function(t){t({type:"ADD_PRODUCT_REQUEST"}),d.a.post("/api/products/addproduct",{product:e}).then((function(e){console.log(e),t({type:"ADD_PRODUCT_SUCCESS"})})).catch((function(e){t({type:"ADD_PRODUCT_FAILED",payload:e})}))}}({name:c,price:o,unit:A,countInStock:O,imgurl:E,description:T,rating:G,category:_}))},children:[Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Name ...",required:!0,value:c,onChange:function(e){a(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"form-control mb-2 mr-sm-2",placeholder:"Price ...",required:!0,value:o,onChange:function(e){l(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Unit ...",required:!0,value:A,onChange:function(e){L(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"form-control mb-2 mr-sm-2",placeholder:"Stock ...",required:!0,value:O,onChange:function(e){h(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Image URL ...",required:!0,value:E,onChange:function(e){v(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Decription ...",required:!0,value:T,onChange:function(e){N(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"form-control mb-2 mr-sm-2",placeholder:"Rating ...",required:!0,value:G,onChange:function(e){F(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Category ...",required:!0,value:_,onChange:function(e){y(e.target.value)}}),Object(j.jsx)("button",{className:"btn mt-2",type:"submit",style:{float:"right"},children:"Add New Product"})]})]})})})};var F=function(){var e=Object(i.c)((function(e){return e.getAllOrdersReducer})),t=e.orders,c=e.loading,a=e.error,n=Object(i.b)();return Object(r.useEffect)((function(){n((function(e,t){e({type:"GET_ALLORDERS_REQUEST"}),d.a.get("/api/orders/getallorders").then((function(t){e({type:"GET_ALLORDERS_SUCCESS",payload:t.data}),console.log(t.data)})).catch((function(t){e({type:"GET_ALLORDERS_FAILED",payload:t})}))}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"usertitle",children:"Orders List"}),c&&Object(j.jsx)(x,{}),a&&Object(j.jsx)(f,{error:"Something wrong!"}),Object(j.jsxs)("table",{className:"tbadmin table table-bodered ",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Orders ID"}),Object(j.jsx)("th",{children:"Emails"}),Object(j.jsx)("th",{children:"Users ID"}),Object(j.jsx)("th",{children:"Amount"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Transactions ID"})]})}),Object(j.jsx)("tbody",{children:t&&t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.userid}),Object(j.jsxs)("td",{children:[e.orderAmount," TND"]}),Object(j.jsx)("td",{children:e.createdAt}),Object(j.jsx)("td",{children:e.transactionId})]})}))})]})]})};c(94);var Q=function(e){var t=e.match,c=Object(i.b)(),a=Object(i.c)((function(e){return e.getProductByIdReducer})),n=a.product,s=a.loading,o=a.error,l=Object(i.c)((function(e){return e.updateProductReducer})),u=l.success,b=l.updateerror,O=l.updateloading,h=Object(r.useState)(""),m=Object(g.a)(h,2),E=m[0],v=m[1],S=Object(r.useState)(),R=Object(g.a)(S,2),_=R[0],y=R[1],D=Object(r.useState)(),U=Object(g.a)(D,2),T=U[0],N=U[1],w=Object(r.useState)(""),I=Object(g.a)(w,2),A=I[0],L=I[1],P=Object(r.useState)(""),k=Object(g.a)(P,2),G=k[0],F=k[1],Q=Object(r.useState)(""),q=Object(g.a)(Q,2),B=q[0],Y=q[1],z=Object(r.useState)(""),W=Object(g.a)(z,2),J=W[0],H=W[1];return Object(r.useEffect)((function(){n&&n._id==t.params.productid?(v(n.name),y(n.price),N(n.countInStock),L(n.imgurl),F(n.category),Y(n.description),H(n.unit)):c(p(t.params.productid))}),[c,n]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"usertitle",children:"Update Product"}),s&&Object(j.jsx)(x,{}),O&&Object(j.jsx)(x,{}),b&&Object(j.jsx)(f,{error:"Something wrong!"}),o&&Object(j.jsx)(f,{error:"Something wrong!"}),u&&Object(j.jsx)(C,{success:"Product Updated Seccessfully"}),n&&Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={name:E,price:_,unit:J,countInStock:T,imgurl:A,description:B,category:G};c(function(e,t){return function(c){c({type:"UPDATE_PRODUCT_REQUEST"}),d.a.post("/api/products/updateproduct",{productid:e,updatedproduct:t}).then((function(e){console.log(e),c({type:"UPDATE_PRODUCT_SUCCESS"}),window.location.href="/admin/productslist"})).catch((function(e){c({type:"UPDATE_PRODUCT_FAILED"})}))}}(t.params.productid,r))},children:[Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Name ...",required:!0,value:E,onChange:function(e){v(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"form-control mb-2 mr-sm-2",placeholder:"Price ...",required:!0,value:_,onChange:function(e){y(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Unit ...",required:!0,value:J,onChange:function(e){H(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"form-control mb-2 mr-sm-2",placeholder:"Stock ...",required:!0,value:T,onChange:function(e){N(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Image URL ...",required:!0,value:A,onChange:function(e){L(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Decription ...",required:!0,value:B,onChange:function(e){Y(e.target.value)}}),Object(j.jsx)("input",{type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Category ...",required:!0,value:G,onChange:function(e){F(e.target.value)}}),Object(j.jsx)("button",{className:"btn mt-2",type:"submit",style:{float:"right"},children:"Update Product"})]})})})]})};var q=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-md-10",children:[Object(j.jsxs)("ul",{className:"admin",children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/admin/userslist",style:{color:"white"},children:" Users List "})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/admin/productslist",style:{color:"white"},children:" Products List "})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/admin/addnewproduct",style:{color:"white"},children:" Add New Product "})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/admin/orderslist",style:{color:"white"},children:" Orders List "})})]}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/admin/userslist",component:P}),Object(j.jsx)(o.a,{path:"/admin/productslist",component:k}),Object(j.jsx)(o.a,{path:"/admin/addnewproduct",component:G}),Object(j.jsx)(o.a,{path:"/admin/orderslist",component:F}),Object(j.jsx)(o.a,{path:"/admin/editproduct/:productid",component:Q})]})]})})})};var B=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{class:"container pt-4",children:Object(j.jsxs)("section",{class:"mb-4",children:[Object(j.jsx)("a",{className:" btn-link btn-floating btn-lg text-dark m-1",href:"https://www.facebook.com/hamza.touko",target:"_blank",role:"button","data-mdb-ripple-color":"dark",children:Object(j.jsx)("i",{class:"fab fa-facebook-f"})}),Object(j.jsx)("a",{className:"btn-link btn-floating btn-lg text-dark m-1",target:"_blank",href:"https://www.instagram.com/hamza_toko/",role:"button","data-mdb-ripple-color":"dark",children:Object(j.jsx)("i",{className:"fab fa-instagram"})}),Object(j.jsx)("a",{className:" btn-link btn-floating btn-lg text-dark m-1",href:"https://www.linkedin.com/in/hamza-toukabri-63b2a417a/",target:"_blank",role:"button","data-mdb-ripple-color":"dark",children:Object(j.jsx)("i",{className:"fab fa-linkedin"})}),Object(j.jsx)("a",{className:" btn-link btn-floating btn-lg text-dark m-1",href:"https://github.com/HTOKO94?tab=repositories",target:"_blank",role:"button","data-mdb-ripple-color":"dark",children:Object(j.jsx)("i",{className:"fab fa-github"})})]})}),Object(j.jsxs)("div",{className:"text-center text-dark p-3",children:["\xa9 2021 Copyright GETBESTSHOP Created By",Object(j.jsx)("a",{className:"text-dark ml-2",href:"https://www.linkedin.com/in/hamza-toukabri-63b2a417a/",target:"_blank",children:"Hamza Toukabri"})]})]})})};var Y=function(){return Object(j.jsx)(_.ToastProvider,{placement:"top-center",autoDismiss:"true",autoDismissTimeout:4e3,children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(u,{}),Object(j.jsxs)(s.a,{children:[Object(j.jsx)(o.a,{path:"/",component:v,exact:!0}),Object(j.jsx)(o.a,{path:"/product/:id",component:D}),Object(j.jsx)(o.a,{path:"/cart",component:w}),Object(j.jsx)(o.a,{path:"/register",component:I}),Object(j.jsx)(o.a,{path:"/login",component:A}),Object(j.jsx)(o.a,{path:"/orders",component:L}),Object(j.jsx)(o.a,{path:"/admin",component:q})]}),Object(j.jsx)("footer",{children:Object(j.jsx)(B,{})})]})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},W=(c(95),c(2)),J=c(18),H=c(44),M=c(45),V=Object(J.combineReducers)({getAllProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_REQUEST":return{loading:!0};case"GET_PRODUCTS_SUCCESS":return{products:t.payload,loading:!1};case"GET_PRODUCTS_FAILED":return{error:t.payload,loading:!1};default:return e}},getProductByIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTBYID_REQUEST":return{loading:!0};case"GET_PRODUCTBYID_SUCCESS":return{product:t.payload,loading:!1};case"GET_PRODUCTBYID_FAILED":return{error:t.payload,loading:!1};default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var c=e.cartItems.find((function(e){return e._id==t.payload._id}));return c?Object(W.a)(Object(W.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id==t.payload._id?t.payload:e}))}):Object(W.a)(Object(W.a)({},e),{},{cartItems:[].concat(Object(S.a)(e.cartItems),[t.payload])});case"DELETE_FROM_CART":return Object(W.a)(Object(W.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload._id}))});default:return e}},registerNewUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"USER_REGISTER_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!0,error:"User Already Registred !"});default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"USER_LOGIN_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:"Invalid user informations!"});case"LOGOUT":return Object(W.a)({},e);default:return e}},placeOrderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLACE_ORDER_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"PLACE_ORDER_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"PLACE_ORDER_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:!0});default:return{state:e}}},getOrdersByUserIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDERSBYUSERID_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"GET_ORDERSBYUSERID_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,orders:t.payload});case"GET_ORDERSBYUSERID_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:!0});default:return{state:e}}},addProductReviewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_REVIEW_REQUEST":return{loading:!0};case"ADD_PRODUCT_REVIEW_SUCCESS":return{loading:!1,success:!0};case"ADD_PRODUCT_REVIEW_FAILED":return{loading:!1,error:!0};default:return e}},getAllUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALLUSERS_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"GET_ALLUSERS_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,users:t.payload});case"GET_ALLUSERS_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:t.payload});default:return e}},deleteUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_USER_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"DELETE_USER_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"DELETE_USER_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:t.payload});default:return e}},deleteProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"DELETE_PRODUCT_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"DELETE_PRODUCT_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:t.payload});default:return e}},addProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"ADD_PRODUCT_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,success:!0});case"ADD_PRODUCT_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:t.payload});default:return e}},updateProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PRODUCT_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{updateloading:!0});case"UPDATE_PRODUCT_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{updateloading:!1,success:!0});case"UPDATE_PRODUCT_FAILED":return Object(W.a)(Object(W.a)({},e),{},{updateloading:!1,updateerror:t.payload});default:return e}},getAllOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALLORDERS_REQUEST":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case"GET_ALLORDERS_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,orders:t.payload});case"GET_ALLORDERS_FAILED":return Object(W.a)(Object(W.a)({},e),{},{loading:!1,error:!0});default:return{state:e}}}}),K={cartReducer:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},loginReducer:{currentUser:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}},X=Object(H.composeWithDevTools)({}),Z=Object(J.createStore)(V,K,X(Object(J.applyMiddleware)(M.a)));n.a.render(Object(j.jsx)(i.a,{store:Z,children:Object(j.jsx)(Y,{})}),document.getElementById("root")),z()}},[[98,1,2]]]);
//# sourceMappingURL=main.ec8a826e.chunk.js.map